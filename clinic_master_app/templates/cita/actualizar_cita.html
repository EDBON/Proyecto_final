{% extends 'auxiliar.html' %}

{% block title %}Actualizar Cita{% endblock %}

{% block content %}
<div class="container">
    <h2>Actualizar Cita</h2>
    <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-success">Actualizar</button>
        <a href="{% url 'listar_citas' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>

<!-- Incluir los estilos y scripts de Flatpickr -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- Cargar el archivo de idioma en español -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>

<script>
    flatpickr(".flatpickr", {
        dateFormat: "Y-m-d",  // Formato de la fecha (AAAA-MM-DD)
        altInput: true,       // Muestra el valor en un formato más amigable
        altFormat: "F j, Y",  // Formato alternativo (Ej: 20 de Marzo de 2025)
        locale: "es",         // Cambia el idioma al español
        minDate: "today",     // No permite seleccionar fechas anteriores a hoy
        maxDate: new Date().fp_incr(5 * 365) // Máximo: 5 años desde hoy
    });

    flatpickr(".flatpickr-time", {
        enableTime: true,
        noCalendar: true,
        dateFormat: "H:i",  // Formato de 24 horas (HH:MM)
        time_24hr: true,     // Asegura que use formato 24 horas
        locale: "es",
    });
</script>

{% endblock %}
