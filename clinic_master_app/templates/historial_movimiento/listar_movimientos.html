{% extends "base.html" %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/listar.css' %}">
<div class="container mt-4">
    <h2>Historial de Movimientos</h2>
    <a href="{% url 'crear_movimiento' %}" class="btn btn-primary mb-3">Crear Movimiento</a>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Empleado</th>
                <th>Área Anterior</th>
                <th>Estado Anterior</th>
                <th>Área Nueva</th>
                <th>Estado Nuevo</th>
                <th>Motivo</th>
                <th>Fecha Movimiento</th>
                <th>Registrado Por</th>
            </tr>
        </thead>
        <tbody>
            {% for movimiento in movimientos %}
            <tr>
                <td>{{ movimiento.empleado }}</td>
                <td>{{ movimiento.area_anterior }}</td>
                <td>{{ movimiento.estado_anterior }}</td>
                <td>{{ movimiento.area_nueva }}</td>
                <td>{{ movimiento.estado_nuevo }}</td>
                <td>{{ movimiento.motivo }}</td>
                <td>{{ movimiento.fecha_movimiento }}</td>
                <td>{{ movimiento.registrado_por }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="8">No hay movimientos registrados.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
